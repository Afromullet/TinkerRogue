{
  "permissions": {
    "allow": [
      "Bash(for file in explorationmode.go formationeditormode.go infomode.go inventorymode.go squadmanagementmode.go squadbuilder.go squaddeploymentmode.go)",
      "Bash(do)",
      "Bash(perl -i -pe:*)"
    ],
    "deny": [],
    "ask": []
  },
  "hooks": {
    "UserPromptSubmit": [
      {
        "matcher": "commit",
        "hooks": [
          {
            "type": "command",
            "command": "go build -o game_main/game_main.exe game_main/*.go && echo '‚úÖ Build successful' || (echo '‚ùå Build failed! Fix errors before committing.' && exit 1)",
            "statusMessage": "Running build verification..."
          }
        ]
      }
    ],
    "PostToolUse": [
      {
        "matcher": "Edit",
        "hooks": [
          {
            "type": "command",
            "command": "FILE=\"$1\"; if [[ \"$FILE\" == *\"/components.go\" ]] || [[ \"$FILE\" == *\"system\"* ]]; then echo 'üîç Quick ECS check...'; grep -q \"^func (.*\\\\*.*) \" \"$FILE\" && echo '‚ö†Ô∏è  Possible component method found (ECS violation)' || true; grep -q \"\\\\*ecs.Entity\" \"$FILE\" && echo '‚ö†Ô∏è  Entity pointer found (use ecs.EntityID instead)' || true; grep -q \"map\\\\[\\\\*\" \"$FILE\" && echo '‚ö†Ô∏è  Pointer map key found (use value-based keys)' || true; fi; TODOS=$(grep -n '// TODO\\|// FIXME\\|// HACK' \"$FILE\" 2>/dev/null); if [ -n \"$TODOS\" ]; then echo \"üìå TODO comments found:\"; echo \"$TODOS\"; COUNT=$(echo \"$TODOS\" | wc -l); [ $COUNT -gt 5 ] && echo \"‚ö†Ô∏è  $COUNT TODOs found - consider creating tasks\" || true; fi",
            "statusMessage": "Checking ECS compliance..."
          }
        ]
      },
      {
        "matcher": "Write",
        "hooks": [
          {
            "type": "command",
            "command": "FILE=\"$1\"; TODOS=$(grep -n '// TODO\\|// FIXME\\|// HACK' \"$FILE\" 2>/dev/null); if [ -n \"$TODOS\" ]; then echo \"üìå TODO comments found:\"; echo \"$TODOS\"; COUNT=$(echo \"$TODOS\" | wc -l); [ $COUNT -gt 5 ] && echo \"‚ö†Ô∏è  $COUNT TODOs found - consider creating tasks\" || true; fi",
            "statusMessage": "Checking for TODOs..."
          }
        ]
      },
      {
        "matcher": "Edit|Write",
        "hooks": [
          {
            "type": "command",
            "command": "FILE=\"$1\"; if [[ \"$FILE\" == *\"/squads/\"* ]] || [[ \"$FILE\" == *\"/gui/\"* ]] || [[ \"$FILE\" == *\"/gear/\"* ]]; then echo \"üìö Reminder: Update DOCUMENTATION.md if architecture changed\"; echo \"   Modified: $FILE\"; fi",
            "statusMessage": "Documentation check..."
          }
        ]
      }
    ]
  }
}
